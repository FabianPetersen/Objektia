<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
     <style>
        html, body, #map-canvas {
            height: 100%;
            margin: 0px;
            padding: 0px
        }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
    <script>
        var allowed_types = ['Tidsreglerat parkerings-/stoppf\xf6rbud', 'P-avgift endast bes\xf6k', 'Reserverad p-plats motorcykel', 'Reserverad p-plats r\xf6relsehindrad', 'P Avgift, boende', 'Avgiftsfri parkering']

        function getJSONP(url, success) {

            var ud = '_' + +new Date,
                script = document.createElement('script'),
                head = document.getElementsByTagName('head')[0]
                       || document.documentElement;

            window[ud] = function(data) {
                head.removeChild(script);
                success && success(data);
            };

            script.src = url.replace('callback=?', 'callback=' + ud);
            head.appendChild(script);
        }
        var indexOf = function(needle) {
            if(typeof Array.prototype.indexOf === 'function') {
                indexOf = Array.prototype.indexOf;
            } else {
                indexOf = function(needle) {
                    var i = -1, index = -1;

                    for(i = 0; i < this.length; i++) {
                        if(this[i] === needle) {
                            index = i;
                            break;
                        }
                    }

                    return index;
                };
            }

            return indexOf.call(this, needle);
        };



        getJSONP('http://openparking.stockholm.se/LTF-Tolken/v1/ptillaten/within?radius=2000&lat=59.32784&lng=18.05306&outputFormat=json&callback=?&apiKey=4a8197bc-01b8-47c0-82d8-db93d5037b9d', function(data){
            console.log(data['features']);
            for (index = 0; index < data['features'].length; ++index) {
                if(indexOf.call(allowed_types, data['features'][index]['properties']['VF_PLATS_TYP']) !== -1){
                    console.log(data['features'][index]['properties']['VF_PLATS_TYP'])
                }
            }
        });

    </script>
</head>
<body>
<div id="map-canvas"></div>
</body>
</html>